<!doctype html>
<html>
  <link
    rel="stylesheet"
    href="https://unpkg.com/@oddbird/popover-polyfill@0.2.3/dist/popover.css"
  />
  <script
    type="module"
    async
    src="https://unpkg.com/@oddbird/popover-polyfill@0.2.3/dist/popover.js"
  ></script>
  <script type="module">
    import { isSupported, apply } from "./invoker.js";
    if (!isSupported()) apply();
  </script>
  <body>
    <h1>InvokerTarget &amp; InvokerAction</h1>
    <p>
      This is a demonstration page of the explainer found at
      <a href="https://github.com/keithamus/invoker-buttons-proposal"
        >github:keithamus/invoker-buttons-proposal</a
      >.
    </p>
    <p>
      This page is running a "polyfill" for the spec, but hopefully in the
      future all of the below will work without any JavaScript!
    </p>
    <hr />
    <button invokertarget="my-file-input">
      This will open the file picker
    </button>
    <input type="file" id="my-file-input" />
    <hr />
    <button invokertarget="my-date-input" invokeraction="showPicker">
      This should open the date picker
    </button>
    <input type="date" id="my-date-input" />
    <hr />

    <button invokertarget="my-details" interesttarget="button-explainer">
      This will open the details
    </button>

    <details id="my-details">
      <summary>This is a details</summary>
      This is the details
    </details>

    <div popover id="button-explainer">
      This button will open the details element
    </div>

    <hr />

    <button invokertarget="my-dialog" interesttarget="dialog-explainer">
      This will open the dialog
    </button>

    <dialog id="my-dialog">
      <button invokertarget="my-dialog">x</button>
      This is a dialog. Click the X to close it
    </dialog>

    <div popover id="dialog-explainer">
      This button will open the dialog element
    </div>

    <hr />
    <button
      invokertarget="my-video"
      interesttarget="my-video-playpause-explainer"
    >
      Play/pause
    </button>
    <div popover id="my-video-playpause-explainer">
      This button will cause the video to play or pause depending on the current
      state
    </div>
    <button
      invokertarget="my-video"
      invokeraction="play"
      interesttarget="my-video-play-explainer"
    >
      Play
    </button>
    <div popover id="my-video-play-explainer">
      This button will cause the video to play if it isn't already
    </div>
    <button
      invokertarget="my-video"
      invokeraction="pause"
      interesttarget="my-video-pause-explainer"
    >
      Pause
    </button>
    <div popover id="my-video-pause-explainer">
      This button will cause the video to pause if it isn't already
    </div>
    <button
      invokertarget="my-video"
      invokeraction="mute"
      interesttarget="my-video-mute-explainer"
    >
      Mute
    </button>
    <div popover id="my-video-mute-explainer">
      This button will cause the video mute or unmute depending on the current
      state
    </div>
    <button
      invokertarget="my-video"
      invokeraction="requestfullscreen"
      interesttarget="my-video-fullscreen-explainer"
    >
      Fullscreen
    </button>
    <div popover id="my-video-fullscreen-explainer">
      This button will cause the video to go into fullscreen
    </div>
    <video id="my-video" width="720">
      <source
        src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"
        type="video/mp4"
      />
    </video>
  </body>
</html>
